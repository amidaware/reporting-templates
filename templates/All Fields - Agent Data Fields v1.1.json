{
  "base_template": {
    "name": "TRMM_Base v1.1",
    "html": "<html>\n\n<head>\n    <style>\n        /* —— PDF page settings —— */\n        @page {\n            margin: 0.5in;\n            size: letter portrait;\n        }\n\n        /* —— Color palette (theme) —— */\n        :root {\n            --header-bg: #2c3e50;\n            --header-text: #ffffff;\n            --border-color: #dddddd;\n            --table-header-bg: #f2f2f2;\n            --status-ready-bg: #eaf7ec;\n            --status-ready-badge: #28a745;\n            --status-not-ready-bg: #fbebee;\n            --status-not-ready-badge: #dc3545;\n            --status-unknown-bg: #fff9e6;\n            --status-unknown-badge: #ffc107;\n            --badge-already-bg: #17a2b8;\n        }\n\n        /* —— Typography & utilities (structure) —— */\n        body {\n            font-family: sans-serif;\n            color: #333;\n            font-size: 12px;\n        }\n\n        .section {\n            margin-top: 20px;\n        }\n\n        .text-danger {\n            color: #a94442;\n            font-weight: bold;\n        }\n\n        /* —— Header layout (structure) —— */\n        .report-header {\n            background-color: var(--header-bg);\n            color: var(--header-text);\n            padding: 20px;\n            border-radius: 8px;\n            display: flex;\n            align-items: center;\n        }\n\n        .header-logo {\n            width: 80px;\n            margin-right: 25px;\n            flex-shrink: 0;\n        }\n\n        .header-date {\n            margin-left: auto;\n            text-align: right;\n            white-space: nowrap;\n        }\n\n        .report-header h1 {\n            font-size: 24px;\n            margin: 0 0 5px;\n        }\n\n        .report-header h2 {\n            font-size: 16px;\n            margin: 0;\n            opacity: 0.9;\n        }\n\n        /* —— Standardized Table Styles (structure) —— */\n        .report-table {\n            border-collapse: collapse;\n            width: 100%;\n        }\n\n        .report-table th,\n        .report-table td {\n            border: 1px solid var(--border-color);\n            padding: 6px 8px;\n            text-align: left;\n            vertical-align: top;\n        }\n\n        .report-table thead th {\n            background-color: var(--table-header-bg);\n            font-weight: bold;\n            cursor: pointer;\n            user-select: none;\n        }\n\n        /* Header label + sort indicators */\n        .th-topline {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            gap: .4rem;\n        }\n\n        .th-label {\n            position: relative;\n            cursor: pointer;\n            user-select: none;\n        }\n\n        /* These are the specific rules that make the indicator visible */\n        th.sorted.asc .th-label::after {\n            content: \"▲\";\n            padding-left: .4rem;\n            color: #333;\n            font-size: .9em;\n        }\n\n        th.sorted.desc .th-label::after {\n            content: \"▼\";\n            padding-left: .4rem;\n            color: #333;\n            font-size: .9em;\n        }\n\n        .report-table thead th select {\n            width: 100%;\n            margin-top: 5px;\n            padding: 4px;\n            border-radius: 4px;\n            border: 1px solid #ccc;\n            font-weight: normal;\n            background: #fff;\n        }\n\n        /* —— Badge shape (structure) —— */\n        .status-badge {\n            display: inline-block;\n            padding: 4px 10px;\n            border-radius: 12px;\n            color: #fff;\n            font-weight: bold;\n            font-size: 11px;\n            text-align: center;\n            white-space: nowrap;\n        }\n\n        /* —— Stub classes for per‑report overrides —— */\n        .status-ready {}\n\n        .status-not-ready {}\n\n        .status-unknown {}\n\n        .badge-ready {}\n\n        .badge-not-ready {}\n\n        .badge-unknown {}\n\n        .badge-already {}\n    </style>\n</head>\n\n<body>\n    {% block content %}{% endblock %}\n</body>\n\n</html>"
  },
  "template": {
    "name": "All Fields - Agent Data Fields v1.1",
    "template_css": "",
    "template_md": "{% block content %}\r\n\r\n<div class=\"horizontal\">\r\n    <h1>Agent Fields</h1>\r\n\r\n    <table class=\"table table-sm table-responsive\">\r\n        <thead>\r\n            <tr>\r\n                <th>id</th>\r\n                <th>created_by</th>\r\n                <th>created_time</th>\r\n                <th>modified_by</th>\r\n                <th>modified_time</th>\r\n                <th>version</th>\r\n                <th>operating_system</th>\r\n                <th>plat</th>\r\n                <th>goarch</th>\r\n                <th>hostname</th>\r\n                <th>agent_id</th>\r\n                <th>last_seen</th>\r\n                <th>public_ip</th>\r\n                <th>total_ram</th>\r\n                <th>boot_time</th>\r\n                <th>logged_in_username</th>\r\n                <th>last_logged_in_user</th>\r\n                <th>monitoring_type</th>\r\n                <th>description</th>\r\n                <th>mesh_node_id</th>\r\n                <th>overdue_email_alert</th>\r\n                <th>overdue_text_alert</th>\r\n                <th>overdue_dashboard_alert</th>\r\n                <th>offline_time</th>\r\n                <th>overdue_time</th>\r\n                <th>check_interval</th>\r\n                <th>needs_reboot</th>\r\n                <th>choco_installed</th>\r\n                <th>patches_last_installed</th>\r\n                <th>time_zone</th>\r\n                <th>maintenance_mode</th>\r\n                <th>block_policy_inheritance</th>\r\n                <th>alert_template_id</th>\r\n                <th>site_id</th>\r\n                <th>policy_id</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for item in data_sources.agentAllFields %}\r\n            <tr>\r\n                <td>{{ item.id }}</td>\r\n                <td>{{ item.created_by }}</td>\r\n                <td>{{ item.created_time }}</td>\r\n                <td>{{ item.modified_by }}</td>\r\n                <td>{{ item.modified_time }}</td>\r\n                <td>{{ item.version }}</td>\r\n                <td>{{ item.operating_system }}</td>\r\n                <td>{{ item.plat }}</td>\r\n                <td>{{ item.goarch }}</td>\r\n                <td>{{ item.hostname }}</td>\r\n                <td>{{ item.agent_id }}</td>\r\n                <td>{{ item.last_seen }}</td>\r\n                <td>{{ item.public_ip }}</td>\r\n                <td>{{ item.total_ram }}</td>\r\n                <td>{{ item.boot_time }}</td>\r\n                <td>{{ item.logged_in_username }}</td>\r\n                <td>{{ item.last_logged_in_user }}</td>\r\n                <td>{{ item.monitoring_type }}</td>\r\n                <td>{{ item.description }}</td>\r\n                <td>{{ item.mesh_node_id }}</td>\r\n                <td>{{ item.overdue_email_alert }}</td>\r\n                <td>{{ item.overdue_text_alert }}</td>\r\n                <td>{{ item.overdue_dashboard_alert }}</td>\r\n                <td>{{ item.offline_time }}</td>\r\n                <td>{{ item.overdue_time }}</td>\r\n                <td>{{ item.check_interval }}</td>\r\n                <td>{{ item.needs_reboot }}</td>\r\n                <td>{{ item.choco_installed }}</td>\r\n                <td>{{ item.patches_last_installed }}</td>\r\n                <td>{{ item.time_zone }}</td>\r\n                <td>{{ item.maintenance_mode }}</td>\r\n                <td>{{ item.block_policy_inheritance }}</td>\r\n                <td>{{ item.alert_template_id }}</td>\r\n                <td>{{ item.site_id }}</td>\r\n                <td>{{ item.policy_id }}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n\r\n</div>\r\n\r\n<h1>Agent Disks</h1>\r\n\r\n<table class=\"table\">\r\n    <thead>\r\n        <tr>\r\n            <th>Agent</th>\r\n            <th>free</th>\r\n            <th>used</th>\r\n            <th>total</th>\r\n            <th>device</th>\r\n            <th>fstype</th>\r\n            <th style=\"width: 20%;\">percent</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        {% for parent_item in data_sources.agentAllFields %}\r\n        \r\n        {% if parent_item.disks %}\r\n            {% for item in parent_item.disks %}\r\n            <tr>\r\n                <td>{{ parent_item.hostname }}</td>\r\n                <td>{{ item.free }}</td>\r\n                <td>{{ item.used }}</td>\r\n                <td>{{ item.total }}</td>\r\n                <td>{{ item.device }}</td>\r\n                <td>{{ item.fstype }}</td>\r\n                <td>\r\n                    <!-- Progress Bar Graph -->\r\n                    <!-- background-color added manually to ensure it shows up -->\r\n                    <div class=\"progress\" style=\"height: 20px; background-color: #e9ecef; border-radius: 4px;\">\r\n                        <div class=\"progress-bar\" \r\n                             role=\"progressbar\" \r\n                             style=\"width: {{ item.percent|default(0) }}%; background-color: #28a745 !important; color: white; text-align: center;\" \r\n                             aria-valuenow=\"{{ item.percent|default(0) }}\" \r\n                             aria-valuemin=\"0\" \r\n                             aria-valuemax=\"100\">\r\n                             {{ item.percent }}%\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            {% endfor %}\r\n        {% endif %}\r\n        \r\n        {% endfor %}\r\n    </tbody>\r\n</table>\r\n\r\n<h1>Agent Services</h1>\r\n\r\n<p>There is a limit: 2 on this report because the services list is a huge amount of data</p>\r\n\r\n{% for parent_item in data_sources.agentAllFields %}\r\n{% if parent_item.services %}\r\n<h3>{{parent_item.hostname}}</h3>\r\n\r\n<table class=\"table\">\r\n    <thead>\r\n        <tr>\r\n            <th>pid</th>\r\n            <th>name</th>\r\n            <th>status</th>\r\n            <th>binpath</th>\r\n            <th>username</th>\r\n            <th>autodelay</th>\r\n            <th>start_type</th>\r\n            <th>description</th>\r\n            <th>display_name</th>\r\n\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n\r\n\r\n        {% for item in parent_item.services %}\r\n        <tr>\r\n            <td>{{ item.pid }}</td>\r\n            <td>{{ item.name }}</td>\r\n            <td>{{ item.status }}</td>\r\n            <td>{{ item.binpath }}</td>\r\n            <td>{{ item.username }}</td>\r\n            <td>{{ item.autodelay }}</td>\r\n            <td>{{ item.start_type }}</td>\r\n            <td>{{ item.description }}</td>\r\n            <td>{{ item.display_name }}</td>\r\n\r\n        </tr>\r\n        {% endfor %}\r\n\r\n\r\n    </tbody>\r\n</table>\r\n{% endif %}\r\n{% endfor %}\r\n\r\n\r\n{% endblock %}",
    "type": "html",
    "depends_on": [],
    "template_variables": "data_sources:\n  agentAllFields:\n    defer:\n    - wmi_detail\n    model: agent\n    limit: 2"
  },
  "assets": []
}